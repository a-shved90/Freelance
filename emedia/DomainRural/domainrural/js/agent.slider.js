(function(a){var i="agentCarousel";a.fn[i]=function(m){if(g.hasOwnProperty(m)){g[m].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof m==="object"||!m){g.init.apply(this,arguments)}else{a.error("Method "+m+" does not exist on jQuery."+i)}}return this};var g={init:function(p){var m=0,q=d(p),n=c(q);if(n.length){for(var o in n){if(n.hasOwnProperty(o)){console.error(n[o])}}return}return this.each(function(){e.call(this,q)})},transition:function(m){if(typeof m!=="number"){a.error("jQuery."+i+'("transition", <transitionTo>) - <transitionTo> must be a number');return this}return this.each(function(){l.call(this,m)})},pauseAuto:function(){return this.each(function(){h.call(this)})},resumeAuto:function(){return this.each(function(){j.call(this)})},stopAuto:function(){return this.each(function(){k.call(this)})}};function d(m){var n=a.extend({displayFor:1000,transitionFor:500,overlapTransitionFor:400,prevNavSelector:".prev",nextNavSelector:".next",autoTransition:true,pauseOnHover:true,onPrevClick:function(){},onNextClick:function(){},onMouseEnter:function(){},onMouseLeave:function(){}},m);n.beginOverlapTransitionAfter=n.transitionFor-n.overlapTransitionFor;return n}function c(p){var m=[],o=["slideSelector"];for(var n=0;n<o.length;n++){if(!p[o[n]]){m.push("agentCarousel option `"+o[n]+"` must be set")}}return m}function f(n){var m=a(n).data("carousel");if(!m||!(m instanceof b)){throw new Error("Must initialize carousel with jQuery."+i+"() before calling method")}return m}function e(n){var o=a(this).find(n.slideSelector);if(o.length==0){a.error("jQuery."+i+" could not find `"+n.slideSelector+"` elements");return}var m=new b(a(this),o,n);a(this).data("carousel",m)}function l(o){try{var m=f(this)}catch(n){return a.error(n.message)}m.prepareManualTransition();m.transitionSafe(o)}function h(){try{var m=f(this)}catch(n){return a.error(n.message)}m.cancelAutoPlay()}function j(){try{var m=f(this)}catch(n){return a.error(n.message)}if(m.options.autoTransition&&!m.stopAuto){m.startAutoPlay()}}function k(){try{var m=f(this)}catch(n){return a.error(n.message)}m.cancelAutoPlay();m.stopAuto=true}var b=(function(m){function n(o,p,q){this.container=o;this.elements=p;this.options=q;this.autoPlayInterval=null;this.transitionInTimeout=null;this.currentEl=p.first();this.currentIndex=0;this.stopAuto=false;this.init()}n.prototype.init=function(){this.wrapSlides();this.initSlides();this.attachNavClick();this.attachHoverListener();if(this.options.autoTransition){this.startAutoPlay()}};n.prototype.wrapSlides=function(){this.elements.wrapAll('<div class="slide-wrapper" />');this.elements.parent().css({position:"relative"})};n.prototype.initSlides=function(){var o=this;this.elements.css({opacity:0.001,position:"absolute",zIndex:1});this.elements.first().css({opacity:1,zIndex:2});this.elements.each(function(p){m(this).reversibleAnimation({maxProperties:{opacity:1,zIndex:2},minProperties:{opacity:0.001,zIndex:1},initialState:(p==0?"max":"min"),duration:o.options.transitionFor,override:true})})};n.prototype.attachNavClick=function(){var p=this.container.find(this.options.prevNavSelector),o=this.container.find(this.options.nextNavSelector),q=this;p&&p.click(function(){q.clickPrev()});o&&o.click(function(){q.clickNext()})};n.prototype.attachHoverListener=function(){var o=this;this.container.mouseenter(function(){o.options.onMouseEnter()}).mouseleave(function(){o.options.onMouseLeave()})};n.prototype.goPrev=function(p){var o=this.currentIndex-1;if(o<0){o=this.elements.length-1}if(typeof p==="function"){p(this.currentIndex,o)}this.transition(o)};n.prototype.goNext=function(p){var o=this.currentIndex+1;if(o>=this.elements.length){o=0}if(typeof p==="function"){p(this.currentIndex,o)}this.transition(o)};n.prototype.clickPrev=function(){this.prepareManualTransition();this.goPrev(this.options.onPrevClick)};n.prototype.clickNext=function(){this.prepareManualTransition();this.goNext(this.options.onNextClick)};n.prototype.prepareManualTransition=function(){this.cancelTransitions();this.options.autoTransition=false;this.cancelAutoPlay()};n.prototype.transitionSafe=function(o){if(o<0||o>=this.elements.length){o=0}this.transition(o)};n.prototype.transition=function(p){var o=this;this.cancelTransitions();this.animateOut(this.currentEl);this.currentIndex=p;this.currentEl=this.elements.eq(this.currentIndex);if(this.options.beginOverlapTransitionAfter<=4){this.transitionInTimeout=null;this.animateIn(this.currentEl)}else{this.transitionInTimeout=setTimeout(function(){o.animateIn(o.currentEl)},this.options.beginOverlapTransitionAfter)}};n.prototype.animateIn=function(o){o.reversibleAnimation("bounce")};n.prototype.animateOut=function(o){o.reversibleAnimation("bounce")};n.prototype.cancelTransitions=function(){if(this.transitionInTimeout){clearTimeout(this.transitionInTimeout);this.transitionInTimeout=null}};n.prototype.startAutoPlay=function(){var o=this;this.autoPlayInterval=setInterval(function(){o.goNext()},this.options.displayFor)};n.prototype.cancelAutoPlay=function(){if(this.autoPlayInterval){clearInterval(this.autoPlayInterval);this.autoPlayInterval=null}};return n})(a)}(jQuery));